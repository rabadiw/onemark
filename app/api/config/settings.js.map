{"version":3,"file":"settings.js","sourceRoot":"E:/Users/Wael/Work/psx/onemark/src-api/src-api/","sources":["api/config/settings.ts"],"names":[],"mappings":";;AAAA,iDAAuD;AACvD,MAAM,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;AAC7B,MAAM,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;AAOzB,MAAM,YAAY,GAAG,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC,CAAC;AAEzE,oBAAoB,YAAY;IAC9B,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,YAAY,CAAC,CAAC;AAClD,CAAC;AAED,MAAM,SAAS,GAAG;IAChB,IAAI,EAAE,IAAI,EAAE,GAAG,CAAC,OAAO,IAAI,EAAE,IAAI,EAAY,EAAE,EAAE,CAAC,CAAA;IAClD,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;AAC7C,CAAC,CAAA;AAED,MAAM,WAAW,GAAG;IAClB,YAAY,EAAE,CAAC,SAAS,EAAE;IAC1B,IAAI,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,IAAI,CAAC;IAChC,SAAS,EAAE,OAAO;IAClB,WAAW,EAAE,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,0BAA0B,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAC9E,MAAM,EAAE,eAAiB;CAC1B,CAAA;AAEQ,kCAAW","sourcesContent":["import { ITracer, tracer } from \"../../modules/tracer\";\r\nconst path = require(\"path\");\r\nconst fs = require(\"fs\");\r\n\r\n// Set the path to root path of the app\r\n// expected structure\r\n// root\r\n//    - domain\r\n//    - context\r\nconst appDirectory = fs.realpathSync(path.resolve(__filename, \"../../\"));\r\n\r\nfunction resolveApp(relativePath) {\r\n  return path.resolve(appDirectory, relativePath);\r\n}\r\n\r\nconst isDevMode = () => {\r\n  let { argv } = (process || { argv: <string[]>[] })\r\n  return argv.filter(v => /--dev/.test(v))[0]\r\n}\r\n\r\nconst appSettings = {\r\n  isProduction: !isDevMode(),\r\n  port: (process.env.PORT || 3010),\r\n  bodyLimit: \"100kb\",\r\n  marksDbPath: resolveApp(path.join(...(\"./context/file/urls.json\".split(\"/\")))),\r\n  tracer: tracer as ITracer\r\n}\r\n\r\nexport { appSettings }"]}