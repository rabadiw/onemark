{"version":3,"file":"onemark.service.js","sourceRoot":"E:/Users/Wael/Work/psx/onemark/src-api/src-api/","sources":["onemark.service.ts"],"names":[],"mappings":";;AAGA,+CAA0C;AAC1C,uDAAkD;AAClD,gDAA+C;AAE/C,MAAM,cAAc,GAAG,CAAC,MAAM;IAC5B,IAAI,GAAG,GAAG,IAAI,wBAAU,CAAC;QACvB,IAAI,EAAE,sBAAW,CAAC,IAAI;QACtB,SAAS,EAAE,sBAAW,CAAC,SAAS;QAChC,KAAK,EAAE,MAAM;KACd,CAAC,CAAA;IACF,IAAI,OAAO,GAAG;QACZ,MAAM,EAAE;YACN,EAAE,QAAQ,EAAE,YAAY,EAAE,MAAM,EAAE,0BAAW,CAAC,MAAM,CAAC,EAAE;YACvD,EAAE,QAAQ,EAAE,GAAG,EAAE,MAAM,EAAE,CAAC,CAAC,GAAG,EAAE,GAAG,OAAO,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAA,CAAC,CAAC,CAAC,EAAE;SACxE;KACF,CAAA;IAED,MAAM,CAAC;QACL,GAAG;YACD,GAAG,CAAC,IAAI,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,CAAA;QACpC,CAAC;KACF,CAAA;AACH,CAAC,CAAA;AAEQ,wCAAc","sourcesContent":["// Copyright (c) Wael Rabadi. All rights reserved.\r\n// See LICENSE for details.\r\n\r\nimport { OnemarkApi } from \"./onemark-api\"\r\nimport { MarksRouter } from \"./marks/marks.router\"\r\nimport { appSettings } from \"./config/settings\"\r\n\r\nconst OnemarkService = (tracer) => {\r\n  let api = new OnemarkApi({\r\n    port: appSettings.port,\r\n    bodyLimit: appSettings.bodyLimit,\r\n    trace: tracer\r\n  })\r\n  let options = {\r\n    routes: [\r\n      { template: \"/api/marks\", router: MarksRouter(tracer) },\r\n      { template: \"/\", router: ((req, res) => { res.send(\"Hello world!\") }) }\r\n    ]\r\n  }\r\n\r\n  return {\r\n    run() {\r\n      api.init().register(options).run()\r\n    }\r\n  }\r\n}\r\n\r\nexport { OnemarkService }"]}